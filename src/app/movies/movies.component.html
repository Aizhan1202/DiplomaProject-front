<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<div class="row">
  <div id="opacity">
    <form class="form-inline my-2 my-lg-0">
      <select 
    #query1
    (change)="filterByGenre(query1.value)" 
    class="form-control mr-sm-2" type="text">
      <option value="" selected>All genres</option>
      <option value="Comedy">Comedy</option>
      <option value="Action">Action</option>
      <option value="Family">Family</option>
      <option value="Romance">Romance</option>
      <option value="Romance">Drama</option>
    </select>
    <button class="btn btn-secondary my-2 my-sm-0">Genre</button>
    </form>
  </div>

  <div class="col-md-5 col-md-offset-2">
    <form class="form-inline my-2 my-lg-0">
      <input
      #query
      (keyup)="filterByName(query.value)"
      class="form-control mr-sm-2" type="text" placeholder="Search by NAME" aria-label="Search">
      <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
    </form>
  </div>

<div class="col-md-offset-2">
  <form class="form-inline my-2 my-lg-0">
    <button  (click)="getSortedMovies()" class="btn btn-secondary my-2 my-sm-0" type="submit">Sort by rating</button>
  </form>
</div>
</div>

  <div class="row mt-5">
      <ng-container *ngFor="let movie of filtered; let i = index">
        <div class="col mt-5">
          <div class="card" style="width: 15rem;">
            <img src = "http://127.0.0.1:8887/{{movie.movie_logo}}" class="card-img-top" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">{{movie.name}}</h5>
              <p class="card-text">{{movie.genre}}</p>

              <div class="col">
                <div class="row">
                
                  <ngb-rating [(rate)]="movie.rating" [halfStars]="true"  class="star" max="5" readonly="true" ></ngb-rating>
                   <a style="margin-top: 15px;"> ({{movie.rating | number: '1.1-2'}}) </a>
                </div> 
              </div>
              <p style="margin-top: 25px;"><a [routerLink]="['/movies/', movie.id]" class="btn btn-outline-dark">View more</a></p>
            </div>
          </div>
        </div>
        <div *ngIf="(i + 1) % 3 === 0" class="w-100"> </div>
    </ng-container>
  </div> 

  

 

  <!-- <pagination-controls (pageChange)="p = $event"></pagination-controls> -->





<!-- <h1>Movies works</h1> -->